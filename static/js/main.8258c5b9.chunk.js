(this["webpackJsonpd3-holiday-calendar"]=this["webpackJsonpd3-holiday-calendar"]||[]).push([[0],{205:function(t,e,a){t.exports=a(493)},490:function(t,e,a){},493:function(t,e,a){"use strict";a.r(e);a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(97),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(249),a(251),a(252),a(253),a(132),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(281),a(282),a(284),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(301),a(302),a(303),a(305),a(306),a(307),a(308),a(309),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(320),a(321),a(183),a(322),a(323),a(185),a(324),a(325),a(326),a(327),a(186),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(140),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(429),a(431),a(432),a(433),a(434),a(435),a(436),a(437),a(438),a(439),a(440),a(441),a(442),a(443),a(444),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(464),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(473),a(474),a(475),a(476),a(477),a(478),a(479),a(481),a(197);var n=a(0),r=a.n(n),o=a(66),i=a.n(o),c=a(113),l=a(71),d=(a(490),a(67)),u=a(68),s=a(72),h=a(73),p=a(9),y=a(112),f=a(49),m=a(114),g=a(497),v=a(200),w=a(58),b=function(t){Object(h.a)(a,t);var e=Object(s.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"hideTippy",value:function(){p.d("rect.day").attr("data-selected",!1),Object(f.b)()}},{key:"getholidays",value:function(t){var e=[];for(var a in t.holidays){var n=t.holidays[a];e.push(r.a.createElement("div",{className:"holidays--holiday holiday-".concat(a),key:a},r.a.createElement("h3",{className:"holidays--holiday-name"},n.holiday)))}return e}},{key:"render",value:function(){var t=this,e=t.props,a=e.d,n=e.dateData,o=p.g("%b"),i=p.g("%e"),c=new Date(a),l=n.filter((function(t){return t.day==a}));return c.setDate(c.getDate()+1),r.a.createElement("div",{className:"holidays holidays-for-".concat(a)},r.a.createElement("div",{className:"holidays--exit",onClick:t.hideTippy},r.a.createElement(w.d,{icon:w.c})),r.a.createElement("div",{className:"holidays--date"},r.a.createElement("h4",{className:"holidays--date-month"},o(c)),r.a.createElement("h3",{className:"holidays--date-day number"},i(c))),r.a.createElement("div",{className:"holidays--container"},t.getholidays(l[0])))}}]),a}(r.a.Component),E=p.i("%Y-%m-%d"),j=p.g("%w"),O=p.g("%U"),k=p.g("%Y-%m-%d"),D=p.g("%B"),_=p.g("%e"),N=function(t){var e=p.h.floor(t);return p.k(p.j.floor(e),p.h.offset(e,1)).length},T=function(t){Object(h.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).lookupData=function(){return p.b().key((function(t){return t.day})).rollup((function(t){return p.e(t,(function(t){return parseInt(t.holidays.length)}))})).object(t.parseData(t.props.data))},t.createToolTip=function(e){var a=Object(m.a)(t),n=p.c('[data-date="'.concat(e,'"]')).node(),o=a.props,c=o.width,l=o.height,d=o.data,u=c<=650&&l<=768,s=n._tippy,h=new Date(e),y=a.parseData(d).filter((function(t){return t.day==e}));h.setDate(h.getDate()+1),!s&&y[0]&&Object(f.a)(n,{trigger:"click",hideOnClick:!1,arrow:!1,theme:"light-border",placement:u?"auto":"left-start",getReferenceClientRect:u?function(){return{width:c-40,height:40,left:20,right:0,top:.3*c,bottom:0}}:null,onShow:function(t){p.c(n).attr("data-selected",!0),p.c(t.popper).attr("style","opacity: 1"),Object(f.b)({exclude:t}),i.a.render(r.a.createElement(b,{d:e,instance:t,dateData:y}),t.popper.childNodes[0].childNodes[0])},onHide:function(t){p.c(n).attr("data-selected",!1),p.c(t.popper).attr("style","opacity: 0")},onTrigger:function(t,e){"true"==p.c(e.target).attr("data-selected")&&t.destroy()},onClickOutside:function(t,e){for(var a=p.c("[data-tippy-root]").node(),n=p.c(e.target).node().parentNode;null!=n;){if(n==a)return!1;n=n.parentNode}t.destroy()}})},t}return Object(u.a)(a,[{key:"destroyTooltips",value:function(t){if(t){var e=this;if(r=(a=t.target)._tippy)return}e=this;var a=document.querySelectorAll(".day");if(Object(f.b)(),a.length>0)for(var n in a){var r;if(a[n]instanceof Element)(r=Object(f.a)(a[n])).disable(),r.destroy(),p.c(r.popper).remove(),a[n].removeEventListener("mouseup",e.createToolTip),p.c(a[n]).attr("data-selected",!1)}}},{key:"parseData",value:function(t){var e=[];return t.forEach((function(t){e.some((function(e){return e.day==t.date}))?e.forEach((function(e){t.date===e.day&&(e.count++,e.holidays.some((function(e){return e.holiday==t.name}))||e.holidays.push({holiday:t.name}))})):e.push({day:t.date,count:1,holidays:[{holiday:t.name}]})})),e}},{key:"drawCalendar",value:function(){var t=this,e=t.props.width,a=new v.a(".glide"),n=p.c("#chart-container").node().getBoundingClientRect().width,r=e>=769,o=r?3:1,i=r?10:40,c=n/o/50,l=(n/7-c)/o-i/2,d=(new Date).getFullYear()-1,u=p.h.range(E("".concat(d,"-01-01")),E("".concat(d,"-12-31")));t.destroyTooltips();var s=p.c("#chart").attr("style",null).selectAll("li").data(u).enter().append("li").attr("class",r?null:"glide__slide").attr("width",(function(t){return r?7*l+7*c+i:n})).append("svg").attr("class","month").attr("id",(function(t,e){return"slide-"+e})).attr("height",(function(t){return r?l*N(t)+8*c+l/2+c:l*N(t)+8*c+l/2})).attr("width",(function(t){return 7*l+7*c+i})).attr("style","margin-bottom: ".concat(l/4,"px; margin-top: ").concat(l/4,"px"));s.append("text").attr("class","month-name").attr("y",l/1.5).attr("x",(function(t){return(7*l+7*c)/2+(c+i)/2})).attr("text-anchor","middle").attr("style","font-size:".concat(l/1.5,"px")).text((function(t){return D(t)}));var h=s.selectAll("rect.day").data((function(t,e){return p.f(t,new Date(t.getFullYear(),t.getMonth()+1,1))})).enter(),y=h.append("rect").attr("class","day day--empty").attr("data-selected",!1).attr("width",l).attr("height",l).attr("rx",3).attr("ry",3).style("fill","#e7e7e7").attr("x",(function(t){return j(t)*l+j(t)*c+(c+i)/2})).attr("y",(function(t){return(O(t)-O(new Date(t.getFullYear(),t.getMonth(),1)))*l+(O(t)-O(new Date(t.getFullYear(),t.getMonth(),1)))*c+(l+c/2)})).attr("data-date",(function(t){return k(t)})).on("mouseup",t.createToolTip).datum(k);h.append("text").attr("x",(function(t){return j(t)*l+j(t)*c+l/2+(c+i)/2})).attr("y",(function(t){return(O(t)-O(new Date(t.getFullYear(),t.getMonth(),1)))*l+(O(t)-O(new Date(t.getFullYear(),t.getMonth(),1)))*c+(l+c/2)+l/2})).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class","month-day number").attr("style","font-size:".concat(l/2,"px")).text((function(t){return _(new Date(t))})),y.filter((function(e){return e in t.lookupData()})).style("fill",(function(e){return Object(g.a)(t.lookupData()[e]/3)})).attr("class","day day--holidays"),t.rect=y,r?(a.disable(),p.c("#slideshow").attr("style",null),a.destroy()):a.mount()}},{key:"componentDidUpdate",value:function(t){var e=this.props.width;t.width!=e&&(p.c("#chart").html(""),this.drawCalendar())}},{key:"componentDidMount",value:function(){this.drawCalendar()}},{key:"render",value:function(){var t=this.props.width<=768;return r.a.createElement("div",{id:"slideshow",className:t?"glide":null},r.a.createElement("div",{id:"chart-container",className:t?"glide__track":null,"data-glide-el":t?"track":null},r.a.createElement("ul",{className:t?"glide__slides":null,id:"chart"})),r.a.createElement("div",{className:"glide__arrows","data-glide-el":"controls"},r.a.createElement("button",{className:"glide__arrow glide__arrow--left","data-glide-dir":"<"},r.a.createElement(w.d,{icon:w.a})),r.a.createElement("button",{className:"glide__arrow glide__arrow--right","data-glide-dir":">"},r.a.createElement(w.d,{icon:w.b}))))}}]),a}(r.a.Component),C=Object(l.b)((function(t){return{height:t.height,width:t.width}}))(T),x=(a(491),a(492),function(t){Object(h.a)(a,t);var e=Object(s.a)(a);function a(t,n){var r;return Object(d.a)(this,a),(r=e.call(this,t,n)).state={data:[]},r}return Object(u.a)(a,[{key:"destroyTooltips",value:function(t){if(t){var e=this;if(r=(a=t.target)._tippy)return}e=this;var a=document.querySelectorAll(".day");if(Object(f.b)(),a.length>0)for(var n in a){var r;if(a[n]instanceof Element)(r=Object(f.a)(a[n])).disable(),r.destroy(),p.c(r.popper).remove(),a[n].removeEventListener("mouseup",e.createToolTip),p.c(a[n]).attr("data-selected",!1)}}},{key:"debounce",value:function(t,e){var a,n=arguments,r=this;return function(o){clearTimeout(a),r.props.width!=document.getElementById("root").clientWidth&&r.destroyTooltips(),a=setTimeout((function(e){a=null,t.apply(r,n)}),e)}}},{key:"componentDidMount",value:function(){var t=this,e=t.props,a=e.onScreenWidthChange,n=e.onScreenHeightChange;console.log((new Date).getFullYear()-1),Object(y.a)().defer(p.a,"https://holidayapi.com/v1/holidays?pretty&key=".concat("d71dbd48-dac4-4859-8cff-eff862719872","&country=US&year=").concat((new Date).getFullYear()-1)).await((function(e,a){if(e)throw e;t.setState({data:a.holidays})}));var r=t.debounce((function(){var e=window.innerHeight,r=document.getElementById("root").clientWidth;e!=t.props.height&&n(e),r!=t.props.width&&a(r)}),250);window.addEventListener("resize",r)}},{key:"render",value:function(){var t=this.state.data;return 0==t.length?r.a.createElement(r.a.Fragment,null):r.a.createElement("main",null,r.a.createElement(C,{data:t}))}}]),a}(r.a.Component)),H=Object(l.b)((function(t){return{height:t.height,width:t.width}}),(function(t){return{onScreenWidthChange:function(e){return t({type:"CHANGE_WIDTH",payload:e})},onScreenHeightChange:function(e){return t({type:"CHANGE_HEIGHT",payload:e})}}}))(x);var Y=function(){return r.a.createElement(H,null)},A={height:window.innerHeight,width:document.getElementById("root").clientWidth},F=Object(c.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"CHANGE_WIDTH":return Object.assign({},t,{width:e.payload});case"CHANGE_HEIGHT":return Object.assign({},t,{height:e.payload});default:return t}})),I=document.getElementById("root");i.a.render(r.a.createElement(l.a,{store:F},r.a.createElement(Y,null)),I)}},[[205,1,2]]]);
//# sourceMappingURL=main.8258c5b9.chunk.js.map